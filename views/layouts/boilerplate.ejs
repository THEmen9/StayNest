<!DOCTYPE html>
<html>
<head>
    <title>StayNest</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
      rel="stylesheet">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

</head>

 <body class="layout-body d-flex flex-column min-vh-100">

  <%- include("../includes/navbar") %>

  <div class="layout-container flex-grow-1">
    <%- include("../includes/sidebar") %>

    <main class="main-content">
      <%- body %>
    </main>
  </div>

  <%- include("../includes/footer") %>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
  const toggleBtn = document.getElementById("toggleSidebar");
  const sidebar = document.getElementById("sidebar");
  const toggleIcon = document.getElementById("toggleIcon");

   toggleBtn.addEventListener("click", () => {

    // Desktop collapse / mobile slide
    if (window.innerWidth < 992) {
      sidebar.classList.toggle("show");
    } else {
      sidebar.classList.toggle("collapsed");
    }
    const isCollapsed = sidebar.classList.contains("collapsed");

    // Swap icon
    if (!isCollapsed) {
      toggleIcon.classList.remove("bi-list");
      toggleIcon.classList.add("bi-x");
      toggleBtn.classList.add("active");
    } else {
      toggleIcon.classList.remove("bi-x");
      toggleIcon.classList.add("bi-list");
      toggleBtn.classList.remove("active");
    }

  });
</script>

</body>
</html>
